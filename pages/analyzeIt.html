<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Analyze It</title>
    <link href="/pielet/styles.css" rel="stylesheet" type="text/css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../style/public.css" type="text/css" />
    <link rel="stylesheet" href="../style/responsive.css" type="text/css" />
  </head>
  <script>
    if (!sessionStorage.getItem("userID"))
      window.location.href = "https://pietential.com";
  </script>
  <script></script>
  <script src="../js/language.js"></script>

  <body>
    <section id="navi"></section>
    <script type="text/javascript" src="../navigation/topNav.js"></script>
    <div class="scoreContainer analyzeItMainContainer">
      <div class="sidebarMain">
        <div class="wellbeingTextContainer">
          <p class="wellbeingText wellbeing" id="wellbeing">
            <script>
              get_i18n("wellbeing");
            </script>
          </p>
          <img
            src="../assets/gredientArrow.svg"
            alt="Arrow"
            onclick="collapseSidebar()"
          />
        </div>
        <p
          class="assessIt assessText assess assessText"
          style="font-weight: 500"
          id="assessIt"
        >
          <script>
            get_i18n("assessText");
          </script>
        </p>
        <p
          class="assessIt visualizeIt selfText visualizeItText"
          style="cursor: pointer"
          onclick="window.location.href= `/pages/visualizeIt.html`"
          id="visualizeIt"
        >
          <script>
            get_i18n("visualizeIt");
          </script>
        </p>
        <p
          class="assessIt analyzeIt selfText visualizeItText"
          style="font-weight: 700"
          id="analyzeIt"
        >
          <script>
            get_i18n("analyzeIt");
          </script>
        </p>
        <p class="assessIt realizeItText selfText visualizeItText">
          <script>
            get_i18n("realizeItText");
          </script>
        </p>
        <p
          class="assessIt actualizeText selfText visualizeItText"
          id="actualizeIt"
        >
          <script>
            get_i18n("actualizeText");
          </script>
        </p>
      </div>
      <div class="visualizeItContainer visualize">
        <h2 class="yourPietentialAnalysis">
          <script>
            get_i18n("yourPietentialAnalysis");
          </script>
        </h2>
        <div class="container analyzeItContainer">
          <h4 class="accordingToTheAnswers">
            <script>
              get_i18n("accordingToTheAnswers");
            </script>
          </h4>
          <div class="needsButtonContainer">
            <button
              id="actualization"
              class="actualizationActiveButton selfActualization"
              onclick="onActualization()"
            >
              <script>
                get_i18n("selfActualization");
              </script>
            </button>
            <button id="esteem" class="selfEsteem" onclick="onSelfEsteem()">
              <script>
                get_i18n("selfEsteem");
              </script>
            </button>
            <button
              id="belonging"
              onclick="onBelonging()"
              class="belongingHeading loveBelonging"
            >
              <script>
                get_i18n("loveBelonging");
              </script>
            </button>
            <button id="needs" onclick="onNeeds()" class="safety safetyNeeds">
              <script>
                get_i18n("safetyNeeds");
              </script>
            </button>
            <button
              id="physiological"
              onclick="onPhysiology()"
              class="physio physiologicalNeeds"
            >
              <script>
                get_i18n("physiologicalNeeds");
              </script>
            </button>
          </div>
          <div id="responderActualization" class="analyzeborder">
            <h2 class="heading selfActualization" id="self">
              <script>
                get_i18n("selfActualization");
              </script>
              : <br />
            </h2>
            <span class="yourScore scoreText">
              <script>
                get_i18n("yourScore");
              </script>
            </span>
            :
            <span id="SAscore" class="scoreText"></span>
            <span id="SAtext"></span>
          </div>

          <div id="responderEsteem" class="analyzeborder" style="display: none">
            <h2
              class="heading selfEsteem"
              id="esteemHeading"
              style="border: 0px"
            >
              <script>
                get_i18n("selfEsteem");
              </script>
              : <br />
            </h2>
            <span class="yourScore scoreText">
              <script>
                get_i18n("yourScore");
              </script>
            </span>
            :
            <span id="ECscore" class="scoreText"></span>
            <span id="ECtext"></span>
          </div>

          <div id="responderLove" class="analyzeborder" style="display: none">
            <h2 class="heading loveBelonging" id="belongingHeading">
              <script>
                get_i18n("loveBelonging");
              </script>
              : <br />
            </h2>
            <span class="yourScore scoreText">
              <script>
                get_i18n("yourScore");
              </script>
            </span>
            :
            <span id="LBscore" class="scoreText"></span>
            <span id="LBtext"></span>
          </div>

          <div id="responderSafety" class="analyzeborder" style="display: none">
            <h2 class="heading safetyNeeds" id="safety">
              <script>
                get_i18n("safetyNeeds");
              </script>
              : <br />
            </h2>
            <span class="yourScore scoreText">
              <script>
                get_i18n("yourScore");
              </script>
            </span>
            :
            <span id="SNscore" class="scoreText"></span>
            <span id="SNtext"></span>
          </div>

          <div
            id="responderPhysiological"
            class="analyzeborder"
            style="display: none"
          >
            <h2 class="heading physiologicalNeeds" id="physio">
              <script>
                get_i18n("physiologicalNeeds");
              </script>
              : <br />
            </h2>
            <span class="yourScore scoreText">
              <script>
                get_i18n("yourScore");
              </script>
            </span>
            :
            <span id="PNscore" class="scoreText"></span>
            <span id="PNtext"></span>
          </div>
        </div>
        <div style="display: flex; margin-top: 50px">
          <button
            class="tryItButton selfActualization actualizationButton btn"
            onclick="onActualization()"
            style="margin-right: 18px; display: none"
            id="actualizationButton"
          >
            <script>
              get_i18n("selfActualization");
            </script>
          </button>
          <button
            class="tryItButton selfHover selfEsteem selfEsteemButton btn"
            id="selfEsteemButtonTwo"
            onclick="onSelfEsteem()"
            style="margin-right: 18px; display: none; border: 0px; color: #fff"
          >
            <script>
              get_i18n("selfEsteem");
            </script>
          </button>
          <button
            class="tryItButton loveBelonging belongingButton btn"
            onclick="onBelonging()"
            style="margin-right: 18px; display: none"
            id="belongingButtonTwo"
          >
            <script>
              get_i18n("loveBelonging");
            </script>
          </button>
          <button
            class="tryItButton safetyNeeds needButton btn"
            onclick="onNeeds()"
            style="margin-right: 18px; display: none"
            id="needButtonTwo"
          >
            <script>
              get_i18n("safetyNeeds");
            </script>
          </button>
          <button
            class="tryItButton realizeItText actualizeButton btn"
            onclick="onShowModal()"
            style="margin-right: 18px"
            id="realizeIt"
          >
            <script>
              get_i18n("realizeItText");
            </script>
          </button>
          <button
            class="tryItButton selfHover selfEsteem selfEsteemButton btn"
            id="selfEsteemButton"
            onclick="onSelfEsteem()"
            style="border: 0px; color: #fff"
          >
            <script>
              get_i18n("selfEsteem");
            </script>
          </button>
          <button
            class="tryItButton loveBelonging belongingButton btn"
            onclick="onBelonging()"
            style="margin-right: 18px; display: none"
            id="belongingButton"
          >
            <script>
              get_i18n("loveBelonging");
            </script>
          </button>

          <button
            class="tryItButton safetyNeeds needButton btn"
            onclick="onNeeds()"
            style="margin-right: 18px; display: none"
            id="needButton"
          >
            <script>
              get_i18n("safetyNeeds");
            </script>
          </button>
          <button
            class="tryItButton physiologicalNeeds physiologyButton btn"
            onclick="onPhysiology()"
            style="margin-right: 18px; display: none"
            id="physiologyButton"
          >
            <script>
              get_i18n("physiologicalNeeds");
            </script>
          </button>
          <button
            class="tryItButton realizeItText realizeButton btn"
            onclick="window.location.href = `./dashboard.html`"
            style="margin-right: 18px; display: none"
            id="realizeButton"
          >
            <script>
              get_i18n("realizeItText");
            </script>
          </button>
        </div>
      </div>
    </div>
    <div class="modalOverlay" id="modalOverlay" style="display: none">
      <div class="modalInnerMain">
        <div class="modal-inner" id="modal-inner">
          <h4>A Kind Reminder!</h4>
          <p>
            You haven’t read all the suggestions and recommendations for the
            five core needs. <br />
            <br />
            Do you still want to proceed to the “Realize It” section?
          </p>
          <div style="display: flex; justify-content: center">
            <button
              class="tryItButton"
              style="margin-right: 20px; width: 110px"
              onclick="window.location.href = `./dashboard.html`"
            >
              Yes
            </button>
            <button
              class="tryItButton"
              style="width: 110px"
              onclick="onCloseModal()"
            >
              No
            </button>
          </div>
        </div>
      </div>
    </div>
    <section id="footi"></section>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script type="text/javascript" src="../navigation/bottomNav.js"></script>
    <script src="../js/main.js"></script>
    <script type="text/javascript">
      let modal = document.querySelector("#modalOverlay");
      function onShowModal() {
        modal.style.display = "block";
      }
      function onCloseModal() {
        modal.style.display = "none";
      }
      function collapseSidebar() {
        let main = document.querySelector(".sidebarMain");
        let rightSideClass = document.querySelector(".visualizeItContainer");
        let assessIt = document.querySelectorAll(".assessIt");
        rightSideClass.classList.toggle("visualize_it_container");
        main.classList.toggle("minWidth");
      }
      let visualizeItContainer = document.querySelector(
        ".visualizeItContainer"
      );
      let responderActualization = document.getElementById(
        "responderActualization"
      );
      let responderEsteem = document.getElementById("responderEsteem");
      let responderLove = document.getElementById("responderLove");
      let responderSafety = document.getElementById("responderSafety");
      let responderPhysiological = document.getElementById(
        "responderPhysiological"
      );
      let actualizationButton = document.getElementById("actualization");
      let esteemButton = document.getElementById("esteem");
      let belongingButton = document.getElementById("belonging");
      let needsButton = document.getElementById("needs");
      let physiologicalButton = document.getElementById("physiological");
      let btn = document.querySelectorAll(".btn");
      let analyzeBorder = document.querySelectorAll(".analyzeborder");

      function getStyling() {
        for (let i = 0; i < analyzeBorder.length; i++) {
          analyzeBorder[i].style.display = "none";
        }
      }

      function getScrollView() {
        visualizeItContainer.scrollIntoView({
          behavior: "smooth",
          block: "start",
          inline: "nearest",
        });
      }

      function onActualization() {
        for (let i = 0; i < btn.length; i++) {
          btn[i].style.display = "none";
        }
        document.getElementById("selfEsteemButton").style.display = "block";
        document.getElementById("realizeIt").style.display = "block";
        if (
          esteemButton.classList.contains("esteemActiveButton") ||
          belongingButton.classList.contains("belongingActiveButton") ||
          needsButton.classList.contains("needsActiveButton") ||
          physiologicalButton.classList.contains("physiologicalActiveButton")
        ) {
          physiologicalButton.classList.remove("physiologicalActiveButton");
          needsButton.classList.remove("needsActiveButton");
          belongingButton.classList.remove("belongingActiveButton");
          esteemButton.classList.remove("esteemActiveButton");
          actualizationButton.classList.add("actualizationActiveButton");
        }
        getStyling();
        responderActualization.style.display = "block";
        getScrollView();
      }

      function onSelfEsteem() {
        for (let i = 0; i < btn.length; i++) {
          btn[i].style.display = "none";
        }
        document.getElementById("actualizationButton").style.display = "block";
        document.getElementById("belongingButton").style.display = "block";
        document.getElementById("realizeIt").style.display = "block";
        if (
          actualizationButton.classList.contains("actualizationActiveButton") ||
          belongingButton.classList.contains("belongingActiveButton") ||
          needsButton.classList.contains("needsActiveButton") ||
          physiologicalButton.classList.contains("physiologicalActiveButton")
        ) {
          actualizationButton.classList.remove("actualizationActiveButton");
          physiologicalButton.classList.remove("physiologicalActiveButton");
          needsButton.classList.remove("needsActiveButton");
          belongingButton.classList.remove("belongingActiveButton");
          esteemButton.classList.add("esteemActiveButton");
        }
        getStyling();
        responderEsteem.style.display = "block";
        getScrollView();
      }

      function onBelonging() {
        for (let i = 0; i < btn.length; i++) {
          btn[i].style.display = "none";
        }
        document.getElementById("selfEsteemButtonTwo").style.display = "block";
        document.getElementById("needButton").style.display = "block";
        document.getElementById("realizeIt").style.display = "block";
        if (
          actualizationButton.classList.contains("actualizationActiveButton") ||
          esteemButton.classList.contains("esteemActiveButton") ||
          needsButton.classList.contains("needsActiveButton") ||
          physiologicalButton.classList.contains("physiologicalActiveButton")
        ) {
          actualizationButton.classList.remove("actualizationActiveButton");
          esteemButton.classList.remove("esteemActiveButton");
          physiologicalButton.classList.remove("physiologicalActiveButton");
          needsButton.classList.remove("needsActiveButton");
          belongingButton.classList.add("belongingActiveButton");
        }
        getStyling();
        responderLove.style.display = "block";
        getScrollView();
      }

      function onNeeds() {
        for (let i = 0; i < btn.length; i++) {
          btn[i].style.display = "none";
        }
        document.getElementById("belongingButtonTwo").style.display = "block";
        document.getElementById("physiologyButton").style.display = "block";
        document.getElementById("realizeIt").style.display = "block";
        if (
          actualizationButton.classList.contains("actualizationActiveButton") ||
          esteemButton.classList.contains("esteemActiveButton") ||
          belongingButton.classList.contains("belongingActiveButton") ||
          physiologicalButton.classList.contains("physiologicalActiveButton")
        ) {
          actualizationButton.classList.remove("actualizationActiveButton");
          esteemButton.classList.remove("esteemActiveButton");
          belongingButton.classList.remove("belongingActiveButton");
          physiologicalButton.classList.remove("physiologicalActiveButton");
          needsButton.classList.add("needsActiveButton");
        }
        getStyling();
        responderSafety.style.display = "block";
        getScrollView();
      }

      function onPhysiology() {
        for (let i = 0; i < btn.length; i++) {
          btn[i].style.display = "none";
        }
        document.getElementById("needButtonTwo").style.display = "block";
        document.getElementById("realizeButton").style.display = "block";
        if (
          actualizationButton.classList.contains("actualizationActiveButton") ||
          esteemButton.classList.contains("esteemActiveButton") ||
          belongingButton.classList.contains("belongingActiveButton") ||
          needsButton.classList.contains("needsActiveButton")
        ) {
          actualizationButton.classList.remove("actualizationActiveButton");
          esteemButton.classList.remove("esteemActiveButton");
          belongingButton.classList.remove("belongingActiveButton");
          needsButton.classList.remove("needsActiveButton");
          physiologicalButton.classList.add("physiologicalActiveButton");
        }
        getStyling();
        responderPhysiological.style.display = "block";
        getScrollView();
      }
      if (location.href.match(/hindi/)) {
        localStorage.currentLanguage = "hindi";
      }
      var fetchTarget = "../json/surveyDescription.json";
      if (localStorage.currentLanguage == "hindi") {
        fetchTarget = "../json/hindiSurveyDescription.json";
      }
      fetch(fetchTarget)
        .then(function (response) {
          return response.json();
        })
        .then(function (data) {
          appendData(data);
          console.log("data", data);
        })
        .catch(function (err) {
          console.log("error: " + err);
        });

      let actualizationScore = sessionStorage.getItem("actualizationScore");
      let esteemScore = sessionStorage.getItem("esteemScore");
      let belongingScore = sessionStorage.getItem("belongingScore");
      let needsScore = sessionStorage.getItem("needsScore");
      let physiologicalScore = sessionStorage.getItem("physiologicalScore");

      function appendData(data) {
        let SAtext = document.getElementById("SAtext");
        let ECtext = document.getElementById("ECtext");
        let LBtext = document.getElementById("LBtext");
        let SNtext = document.getElementById("SNtext");
        let PNtext = document.getElementById("PNtext");

        for (let i = 0; i <= 4; i++) {
          if (
            actualizationScore >= i * 20 &&
            actualizationScore <= 20 * (i + 1)
          ) {
            SAtext.innerHTML = data["SA" + (i + 1)];
          }
        }

        for (let i = 0; i <= 4; i++) {
          if (esteemScore >= i * 20 && esteemScore <= 20 * (i + 1)) {
            ECtext.innerHTML = data["EC" + (i + 1)];
          }
        }

        for (let i = 0; i <= 4; i++) {
          if (belongingScore >= i * 20 && belongingScore <= 20 * (i + 1)) {
            LBtext.innerHTML = data["LB" + (i + 1)];
          }
        }

        for (let i = 0; i <= 4; i++) {
          if (needsScore >= i * 20 && needsScore <= 20 * (i + 1)) {
            SNtext.innerHTML = data["SN" + (i + 1)];
          }
        }

        for (let i = 0; i <= 4; i++) {
          if (
            physiologicalScore >= i * 20 &&
            physiologicalScore <= 20 * (i + 1)
          ) {
            PNtext.innerHTML = data["PN" + (i + 1)];
          }
        }
      }

      appendData();
    </script>
    <script>
      let SA = document.getElementById("SAscore");
      let EC = document.getElementById("ECscore");
      let LB = document.getElementById("LBscore");
      let SN = document.getElementById("SNscore");
      let PN = document.getElementById("PNscore");
      SA.innerHTML = actualizationScore ?? 0 + `/100`;
      EC.innerHTML = esteemScore + `/100`;
      LB.innerHTML = belongingScore + `/100`;
      SN.innerHTML = needsScore + `/100`;
      PN.innerHTML = physiologicalScore + `/100`;
    </script>
  </body>
</html>
